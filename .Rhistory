pivot_longer(cols=starts_with("q"), names_to="question", values_to="answer") %>%
drop_na(answer) %>%
arrange(question)
tdata
tdata <- data %>%
select(q18:q22) %>%
pivot_longer(cols=starts_with("q"), names_to="question", values_to="answer") %>%
drop_na(answer) %>%
mutate(answer = str_trim(answer)) %>%
distinct() %>%
arrange(question)
tdata
tdata <- data %>%
select(q18:q22) %>%
pivot_longer(cols=starts_with("q"), names_to="question", values_to="answer") %>%
drop_na(answer) %>%
mutate(answer = str_trim(answer)) %>%
distinct() %>%
arrange(question)
kable(data=tdata, booktabs=TRUE, linesep="", caption="Qualitative data analysis") %>%
collapse_rows(columns = 1, latex_hline="major") %>%
column_spec(2, width="12cm")
tdata <- data %>%
select(q18:q22) %>%
pivot_longer(cols=starts_with("q"), names_to="question", values_to="answer") %>%
drop_na(answer) %>%
mutate(answer = str_trim(answer)) %>%
distinct() %>%
arrange(question)
kable(data=tdata, booktabs=TRUE, linesep="", caption="Qualitative data analysis") %>%
collapse_rows(columns = 1, latex_hline="major")
tdata <- data %>%
select(q18:q22) %>%
pivot_longer(cols=starts_with("q"), names_to="question", values_to="answer") %>%
drop_na(answer) %>%
mutate(answer = str_trim(answer)) %>%
distinct() %>%
arrange(question)
kable(data=tdata, booktabs=TRUE, linesep="", caption="Qualitative data analysis") %>%
column_spec(2, width="12cm")
kable(tdata, booktabs=TRUE, linesep="", caption="Qualitative data analysis") %>%
column_spec(2, width="12cm")
kable(tdata, booktabs=TRUE, linesep="", caption="Qualitative data analysis") %>%
column_spec(2, width="12cm") %>%
collapse_rows(columns = 1, latex_hline="major")
tdata <- data %>%
select(q18:q22) %>%
pivot_longer(cols=starts_with("q"), names_to="question", values_to="answer") %>%
drop_na(answer) %>%
mutate(answer = str_trim(answer)) %>%
distinct() %>%
arrange(question)
tdata$question <- mapvalues(tdata$question, from=c("q18", "q19", "q20", "q21", "q22") to=c("a", "b", "c", "d", "e"))
tdata$question <- mapvalues(tdata$question, from=c("q18", "q19", "q20", "q21", "q22"), to=c("a", "b", "c", "d", "e"))
library(plyr)
tdata$question <- mapvalues(tdata$question, from=c("q18", "q19", "q20", "q21", "q22"), to=c("a", "b", "c", "d", "e"))
kable(tdata, booktabs=TRUE, linesep="", caption="Qualitative data analysis") %>%
column_spec(2, width="12cm") %>%
collapse_rows(columns = 1, latex_hline="major")
tdata$question <- pylr::mapvalues(tdata$question, from=c("q18", "q19", "q20", "q21", "q22"), to=c("a", "b", "c", "d", "e"))
tdata$question <- plyr::mapvalues(tdata$question, from=c("q18", "q19", "q20", "q21", "q22"), to=c("a", "b", "c", "d", "e"))
tdata <- data %>%
select(q18:q22) %>%
pivot_longer(cols=starts_with("q"), names_to="question", values_to="answer") %>%
drop_na(answer) %>%
mutate(answer = str_trim(answer)) %>%
distinct() %>%
arrange(question)
tdata$question <- plyr::mapvalues(tdata$question, from=c("q18", "q19", "q20", "q21", "q22"), to=c("a", "b", "c", "d", "e"))
kable(tdata, booktabs=TRUE, linesep="", caption="Qualitative data analysis") %>%
column_spec(2, width="12cm") %>%
collapse_rows(columns = 1, latex_hline="major")
tdata <- data %>%
select(q18:q22) %>%
pivot_longer(cols=starts_with("q"), names_to="question", values_to="answer") %>%
drop_na(answer) %>%
mutate(answer = str_trim(answer)) %>%
distinct() %>%
arrange(question)
tdata$question <- plyr::mapvalues(tdata$question, from=c("q18", "q19", "q20", "q21", "q22"), to=c("What did you like most about the 'flipped classroom' approached used for ECON342", "b", "c", "d", "e"))
kable(tdata, booktabs=TRUE, linesep="", caption="Qualitative data analysis") %>%
column_spec(2, width="12cm") %>%
collapse_rows(columns = 1, latex_hline="major")
tdata <- data %>%
select(q18:q22) %>%
pivot_longer(cols=starts_with("q"), names_to="question", values_to="answer") %>%
drop_na(answer) %>%
mutate(answer = str_trim(answer)) %>%
distinct() %>%
arrange(question)
tdata$question <- plyr::mapvalues(tdata$question, from=c("q18", "q19", "q20", "q21", "q22"), to=c("What did you like most about the 'flipped classroom' approached used for ECON342", "b", "c", "d", "e"))
kable(tdata, booktabs=TRUE, linesep="", caption="Qualitative data analysis") %>%
column_spec(2, width="12cm") %>%
column_spec(1, width="3cm") %>%
collapse_rows(columns = 1, latex_hline="major")
tdata <- data %>%
select(q18:q22) %>%
pivot_longer(cols=starts_with("q"), names_to="question", values_to="answer") %>%
drop_na(answer) %>%
mutate(answer = str_trim(answer)) %>%
distinct() %>%
arrange(question)
tdata$question <- plyr::mapvalues(tdata$question, from=c("q18", "q19", "q20", "q21", "q22"), to=c("What did you like most about the 'flipped classroom' approached used for ECON342?", "Was there anything about the 'flipped classroom' that you did not like?", "If you could offer one suggestion to improve the inverted learning experience, what would it be?", "In what ways has the 'flipped classroom' learning environment helped you learn this semester?", "In what ways did the 'flipped classroom' learning environment not help you learn this semester?"))
kable(tdata, booktabs=TRUE, linesep="", caption="Qualitative data analysis") %>%
column_spec(2, width="12cm") %>%
column_spec(1, width="3cm") %>%
collapse_rows(columns = 1, latex_hline="major")
tdata <- data %>%
select(q18:q22) %>%
pivot_longer(cols=starts_with("q"), names_to="question", values_to="answer") %>%
drop_na(answer) %>%
mutate(answer = str_trim(answer)) %>%
distinct() %>%
arrange(question)
tdata$question <- plyr::mapvalues(tdata$question, from=c("q18", "q19", "q20", "q21", "q22"), to=c("What did you like most about the 'flipped classroom' (FC) approached used for ECON342?", "Was there anything about the FC that you did not like?", "If you could offer one suggestion to improve the FC learning experience, what would it be?", "In what ways has the FC helped you learn this semester?", "In what ways did the FC not help you learn this semester?"))
kable(tdata, booktabs=TRUE, linesep="", caption="Qualitative data analysis") %>%
column_spec(2, width="12cm") %>%
column_spec(1, width="3cm") %>%
collapse_rows(columns = 1, latex_hline="major", valign="top")
tdata <- data %>%
select(q18:q22) %>%
pivot_longer(cols=starts_with("q"), names_to="Question", values_to="Answer") %>%
drop_na(Answer) %>%
mutate(Answer = str_trim(Answer)) %>%
distinct() %>%
arrange(question)
tdata <- data %>%
select(q18:q22) %>%
pivot_longer(cols=starts_with("q"), names_to="Question", values_to="Answer") %>%
drop_na(Answer) %>%
mutate(Answer = str_trim(Answer)) %>%
distinct() %>%
arrange(Question)
tdata$Question <- plyr::mapvalues(tdata$Question, from=c("q18", "q19", "q20", "q21", "q22"), to=c("What did you like most about the 'flipped classroom' (FC) approached used for ECON342?", "Was there anything about the FC that you did not like?", "If you could offer one suggestion to improve the FC learning experience, what would it be?", "In what ways has the FC helped you learn this semester?", "In what ways did the FC not help you learn this semester?"))
kable(tdata, booktabs=TRUE, linesep="", caption="Qualitative data analysis") %>%
column_spec(2, width="12cm") %>%
column_spec(1, width="3cm") %>%
collapse_rows(columns = 1, latex_hline="major", valign="top")
tdata <- data %>%
select(q18:q22) %>%
pivot_longer(cols=starts_with("q"), names_to="Question", values_to="Response") %>%
drop_na(Response) %>%
mutate(Response = str_trim(Response)) %>%
distinct() %>%
arrange(Question)
tdata$Question <- plyr::mapvalues(tdata$Question, from=c("q18", "q19", "q20", "q21", "q22"), to=c("What did you like most about the 'flipped classroom' (FC) approached used for ECON342?", "Was there anything about the FC that you did not like?", "If you could offer one suggestion to improve the FC learning experience, what would it be?", "In what ways has the FC helped you learn this semester?", "In what ways did the FC not help you learn this semester?"))
kable(tdata, booktabs=TRUE, linesep="", caption="Qualitative data analysis") %>%
column_spec(2, width="12cm") %>%
column_spec(1, width="3cm") %>%
collapse_rows(columns = 1, latex_hline="major", valign="top")
round(100*41/47, digits=0)
round(100*41/47, digits=-1)
# Document set-up
source('0-code/paper-setup.R')
# Import data
data <- read_excel(
"0-data/results.xlsx",
col_names = c("q01", "q02", "q03", "q04", "q05", "q06", "q07", "q08", "q09", "q10", "q11", "q12", "q13", "q14", "q15", "q16", "q17", "q18", "q19", "q20", "q21", "q22", "q23", "q23a", "q24", "q24a", "q25", "q26", "q26a", "q27"),
skip = 1
) %>%
select(-q01) %>%
filter_all(any_vars(!is.na(.)))
data[, 1:16] <- lapply(data[, 1:16], function(x) factor(x, levels = c("Strongly disagree", "Disagree", "Neutral", "Agree", "Strongly agree")))
tdata <- data %>%
select(q18:q22) %>%
pivot_longer(cols=starts_with("q"), names_to="Question", values_to="Response") %>%
drop_na(Response) %>%
mutate(Response = str_trim(Response)) %>%
distinct() %>%
arrange(Question)
tdata$Question <- plyr::mapvalues(tdata$Question, from=c("q18", "q19", "q20", "q21", "q22"), to=c("What did you like most about the 'flipped classroom' (FC) approached used for ECON342?", "Was there anything about the FC that you did not like?", "If you could offer one suggestion to improve the FC learning experience, what would it be?", "In what ways has the FC helped you learn this semester?", "In what ways did the FC not help you learn this semester?"))
kable(tdata, booktabs=TRUE, linesep="", caption="Qualitative data analysis") %>%
column_spec(2, width="12cm") %>%
column_spec(1, width="3cm") %>%
collapse_rows(columns = 1, latex_hline="major", valign="top")
data
View(data)
# Document set-up
source('0-code/paper-setup.R')
# Import data
data <- read_excel(
"0-data/results.xlsx",
col_names = c("q01", "q02", "q03", "q04", "q05", "q06", "q07", "q08", "q09", "q10", "q11", "q12", "q13", "q14", "q15", "q16", "q17", "q18", "q19", "q20", "q21", "q22", "q23", "q23a", "q24", "q24a", "q25", "q26", "q26a", "q27"),
skip = 1
) %>%
select(-q01) %>%
filter_all(any_vars(!is.na(.)))
data[, 1:16] <- lapply(data[, 1:16], function(x) factor(x, levels = c("Strongly disagree", "Disagree", "Neutral", "Agree", "Strongly agree")))
100*nrow(subset(data, subset=q23=="Economics"))/nrow(data)
round(100*nrow(subset(data, subset=q23=="Economics"))/nrow(data), digits=0)
word(nrow(subset=q23=="Other"))
word(nrow(subset(data, subset=q23=="Other")))
# Document set-up
source('0-code/paper-setup.R')
# Import data
data <- read_excel(
"0-data/results.xlsx",
col_names = c("q01", "q02", "q03", "q04", "q05", "q06", "q07", "q08", "q09", "q10", "q11", "q12", "q13", "q14", "q15", "q16", "q17", "q18", "q19", "q20", "q21", "q22", "q23", "q23a", "q24", "q24a", "q25", "q26", "q26a", "q27"),
skip = 1
) %>%
select(-q01) %>%
filter_all(any_vars(!is.na(.)))
data[, 1:16] <- lapply(data[, 1:16], function(x) factor(x, levels = c("Strongly disagree", "Disagree", "Neutral", "Agree", "Strongly agree")))
word(nrow(subset(data, subset=q23=="Other")))
as.english(nrow(subset(data, subset=q23=="Other")))
library(qdap)
library(english)
as.english(nrow(subset(data, subset=q23=="Other")))
as.english(nrow(subset(data, subset=q24=="Other")))
round(100*nrow(subset(data, subset=q25=="Female"))/nrow(data), digits=0)
table(data$q25)
table(data$q26)
as.english(nrow(subset(data, subset=q23=="Other")))
# Document set-up
source('0-code/paper-setup.R')
# Import data
data <- read_excel(
"0-data/results.xlsx",
col_names = c("q01", "q02", "q03", "q04", "q05", "q06", "q07", "q08", "q09", "q10", "q11", "q12", "q13", "q14", "q15", "q16", "q17", "q18", "q19", "q20", "q21", "q22", "q23", "q23a", "q24", "q24a", "q25", "q26", "q26a", "q27"),
skip = 1
) %>%
select(-q01) %>%
filter_all(any_vars(!is.na(.)))
data[, 1:16] <- lapply(data[, 1:16], function(x) factor(x, levels = c("Strongly disagree", "Disagree", "Neutral", "Agree", "Strongly agree")))
as.english(nrow(subset(data, subset=q23=="Other")))
english(nrow(subset(data, subset=q23=="Other")))
words(nrow(subset(data, subset=q23=="Other")))
View(data)
assert
help(assert)
library(testit)
ifelse(data$q24!="Other", data$q24==3, data$q24a==4)
assert("ASSERTION FAILS", ifelse(data$q24!="Other", data$q24==3, data$q24a==4))
words(nrow(subset(data, subset=q23=="Other"|q23=="Economics with Politics")))
subset(data, subset=q23=="Other"|q23=="Economics with Politics")
# Document set-up
source('0-code/paper-setup.R')
# Import data
data <- read_excel(
"0-data/results.xlsx",
col_names = c("q01", "q02", "q03", "q04", "q05", "q06", "q07", "q08", "q09", "q10", "q11", "q12", "q13", "q14", "q15", "q16", "q17", "q18", "q19", "q20", "q21", "q22", "q23", "q23a", "q24", "q24a", "q25", "q26", "q26a", "q27"),
skip = 1
) %>%
select(-q01) %>%
filter_all(any_vars(!is.na(.)))
data[, 1:16] <- lapply(data[, 1:16], function(x) factor(x, levels = c("Strongly disagree", "Disagree", "Neutral", "Agree", "Strongly agree")))
subset(data, subset=q23=="Other"|q23=="Economics with Politics")
subset(data, subset=q23=="Other"|q23=="Economics with politics")
assert("ASSERTION: EVERYONE IS IN THEIR LAST YEAR OF STUDY FAILS", ifelse(data$q24!="Other", data$q24==3, data$q24a==4))
assert("ASSERTION: DEGREES FAIL", nrow(subset(data, subset=q23=="Other"|q23=="Economics with politics")) + nrow(subset(data, subset=q23=="Economics"))==nrow(data))
format(Sys.time(), "%a %b %d %X %Y")
format(Sys.time(), "%d %B %Y")
data$q26=="17-25"
data$q27=="17-25"
data$q27=="17-25"|is.na(data$q27)
ifelse(!is.na(data$q27), data$q27=="17-25", TRUE)
table(data$q27)
ifelse(!is.na(data$q27), data$q27=="17–25", TRUE)
data$q27=="17–25"|is.na(data$q27)
# These are assertions I make in the text that I need to be sure still hold if I update the data.
assert("ASSERTION: EVERYONE IS IN THEIR LAST YEAR OF STUDY FAILS", ifelse(data$q24!="Other", data$q24==3, data$q24a==4))
assert("ASSERTION: EVERYONE ECON OR ECON+ FAIL", nrow(subset(data, subset=q23=="Other"|q23=="Economics with politics")) + nrow(subset(data, subset=q23=="Economics"))==nrow(data))
assert("ASSERTION: EVERYONE 17-25 FAILS", data$q27=="17–25"|is.na(data$q27))
table(data$q26)
# These are assertions I make in the text that I need to be sure still hold if I update the data.
assert("ASSERTION: EVERYONE IS IN THEIR LAST YEAR OF STUDY FAILS", ifelse(data$q24!="Other", data$q24==3, data$q24a==4))
assert("ASSERTION: EVERYONE ECON OR ECON+ FAIL", nrow(subset(data, subset=q23=="Other"|q23=="Economics with politics")) + nrow(subset(data, subset=q23=="Economics"))==nrow(data))
assert("ASSERTION: EVERYONE 17-25 FAILS", data$q27=="17–25"|is.na(data$q27))
assert("ASSERTION: NATIONALITY DISTRIBUTION FAILS", data$q26=="China"|data$q26=="Europe (non-EU)"|data$q26=="UK")
tdata <- data %>%
select(q02:q17) %>%
pivot_longer(cols=starts_with("q"), names_to="question", values_to="answer") %>%
drop_na(answer)
question.labs <- c(
"The videos were easy\nto watch & understand",
"The videos help me visualise\nthe problem solving process",
"The videos helped identify\nmajor problem solving points",
"Handwritten notations helped\nme understand the material",
"Overall, the lightboard videos\nimproved my understanding",
"Their interactive nature made\nthe videos easy to follow",
"The length of the videos\nwas appropriate",
"Watching the videos was an\neffective use of my time",
"The lightboard engages\nstudents in online learning",
"Overall, the lightboard\nvideos were engaging",
"I found the videos\ninteresting and stimulating",
"The videos' technology is\nattractive (style-wise)",
"The videos are an effective\ntool for learning economics",
"I'd recommend more lightboard\n videos (LVs) for this module",
"I'd recommend more LVs\n for other economics modules",
"I'd recommend more LVs\n for non-economics modules"
)
names(question.labs) <- c("q02", "q03", "q04", "q05", "q06", "q07", "q08", "q09", "q10", "q11", "q12", "q13", "q14", "q15", "q16", "q17")
ggplot(tdata, aes(x=answer, fill=answer)) +
geom_histogram(alpha=0.6, stat="count") +
facet_wrap(~question, labeller = labeller(question = question.labs)) +
labs(x=NULL, y=NULL) +
scale_fill_manual(values = c("#a10532", "#ff6fa9", "#ffd0cc", "#00b7cc", "#005f81")) +
theme(
panel.spacing=unit(0.1, "lines"),
strip.text.x = element_text(size=8),
axis.text.x = element_blank(),
strip.text = element_text(colour="black", size=6),
panel.grid.major=element_blank()
)
ggplot(tdata, aes(x=answer, fill=answer)) +
geom_histogram(alpha=0.6, stat="count") +
facet_wrap(~question, labeller = labeller(question = question.labs)) +
labs(x=NULL, y=NULL) +
scale_fill_manual(values = c("#a10532", "#ff6fa9", "#ffd0cc", "#00b7cc", "#005f81")) +
theme(
panel.spacing=unit(0.1, "lines"),
strip.text.x = element_text(size=8),
axis.text.x = element_blank(),
strip.background = element_rec(fill="#ffd0cc"),
strip.text = element_text(colour="black", size=6),
panel.grid.major=element_blank()
)
ggplot(tdata, aes(x=answer, fill=answer)) +
geom_histogram(alpha=0.6, stat="count") +
facet_wrap(~question, labeller = labeller(question = question.labs)) +
labs(x=NULL, y=NULL) +
scale_fill_manual(values = c("#a10532", "#ff6fa9", "#ffd0cc", "#00b7cc", "#005f81")) +
theme(
panel.spacing=unit(0.1, "lines"),
strip.text.x = element_text(size=8),
axis.text.x = element_blank(),
strip.background = element_rect(fill="#ffd0cc"),
strip.text = element_text(colour="black", size=6),
panel.grid.major=element_blank()
)
ggplot(tdata, aes(x=answer, fill=answer)) +
geom_histogram(alpha=0.6, stat="count") +
facet_wrap(~question, labeller = labeller(question = question.labs)) +
labs(x=NULL, y=NULL) +
scale_fill_manual(values = c("#a10532", "#ff6fa9", "#ffd0cc", "#00b7cc", "#005f81")) +
theme(
panel.spacing=unit(0.1, "lines"),
strip.text.x = element_text(size=8),
axis.text.x = element_blank(),
strip.background = element_rect(fill="grey50"),
strip.text = element_text(colour="black", size=6),
panel.grid.major=element_blank()
)
ggplot(tdata, aes(x=answer, fill=answer)) +
geom_histogram(alpha=0.6, stat="count") +
facet_wrap(~question, labeller = labeller(question = question.labs)) +
labs(x=NULL, y=NULL) +
scale_fill_manual(values = c("#a10532", "#ff6fa9", "#ffd0cc", "#00b7cc", "#005f81")) +
theme(
panel.spacing=unit(0.1, "lines"),
strip.text.x = element_text(size=8),
axis.text.x = element_blank(),
strip.background = element_rect(fill="grey10"),
strip.text = element_text(colour="black", size=6),
panel.grid.major=element_blank()
)
ggplot(tdata, aes(x=answer, fill=answer)) +
geom_histogram(alpha=0.6, stat="count") +
facet_wrap(~question, labeller = labeller(question = question.labs)) +
labs(x=NULL, y=NULL) +
scale_fill_manual(values = c("#a10532", "#ff6fa9", "#ffd0cc", "#00b7cc", "#005f81")) +
theme(
panel.spacing=unit(0.1, "lines"),
strip.text.x = element_text(size=8),
axis.text.x = element_blank(),
strip.background = element_rect(fill="grey90"),
strip.text = element_text(colour="black", size=6),
panel.grid.major=element_blank()
)
ggplot(tdata, aes(x=answer, fill=answer)) +
geom_histogram(alpha=0.6, stat="count") +
facet_wrap(~question, labeller = labeller(question = question.labs)) +
labs(x=NULL, y=NULL) +
scale_fill_manual(values = c("#a10532", "#ff6fa9", "#ffd0cc", "#00b7cc", "#005f81")) +
theme(
panel.spacing=unit(0.1, "lines"),
strip.text.x = element_text(size=8),
axis.text.x = element_blank(),
strip.background = element_rect(fill="grey95"),
strip.text = element_text(colour="black", size=6),
panel.grid.major=element_blank()
)
nrow(subset(data, subset=q7=="Strongly agree"|q7=="Agree"))/nrow(data)
nrow(subset(data, subset=q07=="Strongly agree"|q0=="Agree"))/nrow(data)
nrow(subset(data, subset=q07=="Strongly agree"|q07=="Agree"))/nrow(data)
sd(data$q02)
table(as.numeric(data$q02))
sd(as.numeric(data$q02))
data[, q02:q10]
subset(data, select=q02:q10)
subset(data, select=q02:q11)
as.numeric(subset(data, select=q02:q11))
subset(data, select=q02:q11)
lapply(subset(data, select=q02:q11), sd)
colSds(subset(data, select=q02:q11))
subset(data, select=q02:q11)
sapply(subset(data, select=q02:q11), is.numeric)
data %>% select(q02:q11)
sapply(subset(data, select=q02:q11), as.numeric)
sapply(subset(data, select=q02:q11), FUN=function(x) sd(as.numeric(x)))
mean(sapply(subset(data, select=q02:q11), FUN=function(x) sd(as.numeric(x))))
sapply(subset(data, select=q02:q11), FUN=function(x) sd(as.numeric(x)))
sapply(subset(data, select=q02:q11), FUN=function(x) sd(as.numeric(x), na.rm=TRUE))
mean(sapply(subset(data, select=q02:q11), FUN=function(x) sd(as.numeric(x), na.rm=TRUE)))
round(mean(sapply(subset(data, select=q02:q11), FUN=function(x) sd(as.numeric(x), na.rm=TRUE))), digits=2)
round(mean(sapply(subset(data, select=q12:q17), FUN=function(x) sd(as.numeric(x), na.rm=TRUE))), digits=2)
mean(data$q15)
mean(data$q15, na.rm=TRUE)
data$q15
mean(as.numeric(data$q15(), na.rm=TRUE)
)
mean(as.numeric(data$q15, na.rm=TRUE)
)
mean(as.numeric(data$q15), na.rm=TRUE)
mean(as.numeric(data$q16), na.rm=TRUE)
mean(as.numeric(data$q17), na.rm=TRUE)
round(mean(as.numeric(data$q15), na.rm=TRUE)), digits=2)
round(mean(as.numeric(data$q15), na.rm=TRUE), digits=2)
round(mean(as.numeric(data$q15), na.rm=TRUE), digits=2)
round(sd(as.numeric(data$q15), na.rm=TRUE), digits=2)
ggplot(tdata, aes(x=answer, fill=answer)) +
geom_histogram(alpha=0.6, stat="count") +
facet_wrap(~question, labeller = labeller(question = question.labs)) +
labs(x=NULL, y=NULL) +
scale_fill_manual(values = c("#a10532", "#ff6fa9", "#ffd0cc", "#00b7cc", "#005f81")) +
theme(
panel.spacing=unit(0.1, "lines"),
strip.text.x = element_text(size=8),
axis.text.x = element_blank(),
strip.background = element_rect(fill="grey95"),
strip.text = element_text(colour="black", size=6),
panel.grid.major=element_blank(),
axis.ticks.x=element_blank()
)
# Document set-up
source('0-code/paper-setup.R')
# Import data
data <- read_excel(
"0-data/results.xlsx",
col_names = c("q01", "q02", "q03", "q04", "q05", "q06", "q07", "q08", "q09", "q10", "q11", "q12", "q13", "q14", "q15", "q16", "q17", "q18", "q19", "q20", "q21", "q22", "q23", "q23a", "q24", "q24a", "q25", "q26", "q26a", "q27"),
skip = 1
) %>%
select(-q01) %>%
filter_all(any_vars(!is.na(.)))
data[, 1:16] <- lapply(data[, 1:16], function(x) factor(x, levels = c("Strongly disagree", "Disagree", "Neutral", "Agree", "Strongly agree")))
View(data)
nrow(data)
View(data)
# Document set-up
source('0-code/paper-setup.R')
# Import data
data <- read_excel(
"0-data/results.xlsx",
col_names = c("q01", "q02", "q03", "q04", "q05", "q06", "q07", "q08", "q09", "q10", "q11", "q12", "q13", "q14", "q15", "q16", "q17", "q18", "q19", "q20", "q21", "q22", "q23", "q23a", "q24", "q24a", "q25", "q26", "q26a", "q27"),
skip = 1
) %>%
select(-q01) %>%
filter_all(any_vars(!is.na(.)))
data[, 1:16] <- lapply(data[, 1:16], function(x) factor(x, levels = c("Strongly disagree", "Disagree", "Neutral", "Agree", "Strongly agree")))
# Document set-up
source('0-code/paper-setup.R')
# Import data
data <- read_excel(
"0-data/results.xlsx",
col_names = c("q01", "q02", "q03", "q04", "q05", "q06", "q07", "q08", "q09", "q10", "q11", "q12", "q13", "q14", "q15", "q16", "q17", "q18", "q19", "q20", "q21", "q22", "q23", "q23a", "q24", "q24a", "q25", "q26", "q26a", "q27"),
skip = 1
) %>%
select(-q01) %>%
filter_all(any_vars(!is.na(.)))
data[, 1:16] <- lapply(data[, 1:16], function(x) factor(x, levels = c("Strongly disagree", "Disagree", "Neutral", "Agree", "Strongly agree")))
View(data)
# Document set-up
source('0-code/paper-setup.R')
# Import data
data <- read_excel(
"0-data/results.xlsx",
col_names = c("q01", "q02", "q03", "q04", "q05", "q06", "q07", "q08", "q09", "q10", "q11", "q12", "q13", "q14", "q15", "q16", "q17", "q18", "q19", "q20", "q21", "q22", "q23", "q23a", "q24", "q24a", "q25", "q26", "q26a", "q27"),
skip = 1
) %>%
select(-q01) %>%
filter_all(any_vars(!is.na(.)))
data[, 1:16] <- lapply(data[, 1:16], function(x) factor(x, levels = c("Strongly disagree", "Disagree", "Neutral", "Agree", "Strongly agree")))
View(data)
# These are assertions I make in the text that I need to be sure still hold if I update the data.
assert("ASSERTION: EVERYONE IS IN THEIR LAST YEAR OF STUDY FAILS", ifelse(data$q24!="Other", data$q24==3, data$q24a==4))
assert("ASSERTION: EVERYONE ECON OR ECON+ FAIL", nrow(subset(data, subset=q23=="Other"|q23=="Economics with politics"|q23=="Economics with year in industry
NA")) + nrow(subset(data, subset=q23=="Economics")) == nrow(data))
# These are assertions I make in the text that I need to be sure still hold if I update the data.
assert("ASSERTION: EVERYONE IS IN THEIR LAST YEAR OF STUDY FAILS", ifelse(data$q24!="Other", data$q24==3, data$q24a==4))
assert("ASSERTION: EVERYONE ECON OR ECON+ FAIL", nrow(subset(data, subset=q23=="Other"|q23=="Economics with politics"|q23=="Economics with year in industry")) + nrow(subset(data, subset=q23=="Economics")) == nrow(data))
assert("ASSERTION: EVERYONE 17-25 FAILS", data$q27=="17–25"|is.na(data$q27))
assert("ASSERTION: NATIONALITY DISTRIBUTION FAILS", data$q26=="China"|data$q26=="Europe (non-EU)"|data$q26=="UK")
data$q18[50:,]
data$q18[50:]
data$q18[50:51]
data$q18[50:66]
data$q19[50:66]
data$q20[50:66]
data$q21[50:66]
data$q22[50:66]
# Document set-up
source('0-code/paper-setup.R')
# Import data
data <- read_excel(
"0-data/results.xlsx",
col_names = c("q01", "q02", "q03", "q04", "q05", "q06", "q07", "q08", "q09", "q10", "q11", "q12", "q13", "q14", "q15", "q16", "q17", "q18", "q19", "q20", "q21", "q22", "q23", "q23a", "q24", "q24a", "q25", "q26", "q26a", "q27"),
skip = 1
) %>%
select(-q01) %>%
filter_all(any_vars(!is.na(.)))
data[, 1:16] <- lapply(data[, 1:16], function(x) factor(x, levels = c("Strongly disagree", "Disagree", "Neutral", "Agree", "Strongly agree")))
View(data)
